:author: johnny
:date: 2025-04-01

.. list-table::


    * - 发布时间
      - 2025-04-01

2025-04日记
^^^^^^^^^^^^^^^^^^^^

2024-04-01
===============

MySQL和sysbench工具
-----------------------------

#. 简介
   
   对于多数web应用，整个系统的瓶颈在于数据库。因为web应用中的其他因素，例如网络带宽、负载均衡节点、
   
   应用服务器（包括CPU、内存、硬盘灯、连接数等）、缓存，都很容易通过水平扩展（俗称加机器）来实现

   性能的提高。而对于MySQL，由于数据一致性的要求，无法通过增加机器来分散想数据库写数据带来的压力；
   
   虽然可以通过前置缓存（Redis等），读写分离、分库分表来减轻压力，但是于系统其它组件的水平扩展相比，

   受到太多限制。

   而对数据库的基准测试的作用，就是分析在当前的配置下（包括硬件配置、OS、数据库设置等），数据库的

   性能表现，从而找出MySQL的性能阈值，并根据实际系统的要求调整配置。

   常见的数据库指标包括：
   
     - TPS/QPS： 衡量吞吐量

     - 响应时间：包括平均响应时间、最小响应时间、时间百分比等，其中时间百分比参考意义较大，如前95%的
       请求的最大响应时间。

     - 并发量： 同时处理的查询请求的数量。